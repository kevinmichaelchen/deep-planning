---
import BaseLayout from "./BaseLayout.astro";

interface Props {
  title: string;
  pubDate: Date;
  description: string;
  tags: string[];
}

const { title, pubDate, description, tags } = Astro.props;
const base = import.meta.env.BASE_URL.replace(/\/?$/, "/");
---

<BaseLayout title={title} description={description}>
  <article class="max-w-3xl mx-auto px-6 pt-12 pb-16">
    <header class="mb-10 animate-reveal animate-reveal-1">
      <a href={`${base}blog/`} class="inline-flex items-center gap-1 text-xs font-medium text-ink-faint hover:text-crimson transition-colors mb-6">
        <svg class="w-3.5 h-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M7 17L17 7M7 7h10M7 7v10" transform="rotate(180 12 12)" />
        </svg>
        Back to Blog
      </a>
      <h1 class="font-serif text-3xl md:text-4xl font-semibold tracking-tight leading-tight mb-4">{title}</h1>
      <div class="flex items-center gap-3">
        <time class="text-sm text-ink-faint font-medium tabular-nums" datetime={pubDate.toISOString()}>
          {pubDate.toLocaleDateString("en-US", { year: "numeric", month: "long", day: "numeric" })}
        </time>
        {tags.length > 0 && (
          <>
            <span class="text-border-strong">&middot;</span>
            <div class="flex flex-wrap gap-1.5">
              {tags.map((tag) => (
                <span class="text-[11px] font-medium tracking-wide uppercase text-ink-faint bg-parchment-dark px-2 py-0.5 rounded-full">
                  {tag}
                </span>
              ))}
            </div>
          </>
        )}
      </div>
    </header>

    <hr class="border-border mb-10" />

    <div class="animate-reveal animate-reveal-3 prose prose-lg prose-journal max-w-none font-serif text-ink/85 leading-[1.8]">
      <slot />
    </div>
  </article>
</BaseLayout>
